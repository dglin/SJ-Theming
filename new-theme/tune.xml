<?xml version="1.0" encoding="UTF-8"?>
<rules
    xmlns="http://namespaces.plone.org/diazo"
    xmlns:css="http://namespaces.plone.org/diazo/css"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform">

    <after theme-children="/html/head/style" if="$front_topimage_height != '350' and $home_page">
		.top-image {
          	min-height: <xsl:value-of select="$front_topimage_height" />px !important;
    		}
    </after>

    <after theme-children="/html/head/style" if-not="$home_page">
		.nav_center_block .portal-logo {
          	opacity: 1 !important;
    		}
    	.top-image .portal-logo {
			display: none;
    		}
    	.nav_center_block .portal-logo {
			display:block !important;
			text-align:left;
    		}
    	.nav-wrapper #theme-globalnav {
			text-align: left;
			}
    </after>

	<after theme-children="/html/head/style" if="$home_page">
		.nav_center_block .portal-logo	{
			-webkit-transition: opacity 1s;
			-moz-transition: opacity 1s;
	    	transition: opacity 1s;
	    	-webkit-transition-delay: 0.2s;
	    	-moz-transition-delay: 0.2s;
    		transition-delay: 0.2s;
			}
		.nav-wrapper .portal-logo {
			position:absolute;
			}
		#theme-globalnav {
			-webkit-transition: margin 0.7s;
			-moz-transition: margin 0.7s;
	    	transition: margin 0.7s;
			}
	</after>

	<after theme-children="/html/head/style" if="$main_bg != ''">
		#main-bg div {
			background:url(<xsl:value-of select="$main_bg" />) right top no-repeat;
			background-size: cover;
			}
	</after>

	<after theme-children="/html/head/style" css:if-content="#viewlet-below-content-body .width-full .portletStaticText img ">
		#panelBelowBG div  {
			background: url(<xsl:value-of select=".//div[@id='viewlet-below-content-body']//div[contains(@class, 'width-full')]//*[contains(@class, 'portletStaticText')]//img/@src" />) right top no-repeat;
			background-size: cover;
			}
	</after>

    <after theme-children="/html/head/style" css:if-content=".leadImage" if-not="$home_page">
		#main-bg div {
			background: url(<xsl:value-of select=".//li[@class='selected']/a/@href" />/@@images/image) right top no-repeat;
			background-size: cover;
			}
    </after>

    <after theme-children="/html/head/style" if="$allpages_topimage_height != '350'" if-not="$home_page">
		.top-image {
          	min-height: <xsl:value-of select="$allpages_topimage_height" />px;
    		}
    </after>

	<after theme-children="/html/head/style" if="$main_color != '#127a89'">
		#theme-globalnav li:hover <xsl:text disable-output-escaping="yes">></xsl:text> a, 
		#theme-globalnav li.selected <xsl:text disable-output-escaping="yes">></xsl:text> a, 
		#portal-megamenu .megamenu-nav:hover <xsl:text disable-output-escaping="yes">></xsl:text> li:hover <xsl:text disable-output-escaping="yes">></xsl:text> a,
		#content .documentDescription, #content-core table th, .pae_calendar_tooltip a,
		#theme-globalnav li ul a, #portal-breadcrumbs a, a:link, 
		#content a:visited, #content a:link, dl.portlet a:link, dl.portlet a:visited, h4,
		#portal-footer-wrapper .qg-buttons div:hover, #portal-header #portal-searchbox #LSResult a,
		#content a.link-overlay, #portal-siteactions li a, .panel-above-content .qg-buttons div:hover, #content a:visited, #content a:link, dl.portlet a:link, .portletStaticText a:link, .portletStaticText a:visited, dl.portlet a:visited, #content a.link-overlay, .ploneCalendar td.today, .panel-above-content .item .itemDate, #portal-footer-wrapper .item .itemDate,  #portal-column-two .itemTitle, #portal-column-one .itemTitle, #portal-column-one dl.portlet.portletOWLCarousel .itemDate, #portal-column-two dl.portlet.portletOWLCarousel .itemDate, .panel-above-content .portletItemTitle, #portal-footer-wrapper .portletItemTitle, #portal-megamenu .plus.open <xsl:text disable-output-escaping="yes">></xsl:text> a, #theme-globalnav:not(.megamenu-nav) li ul a, #content .callout  {
			color: <xsl:value-of select="$main_color" />;
			}
	</after>
	
	<after theme-children="/html/head/style" if="$main_color != '#127a89'">
		dl.portlet ul.navTree li a:hover, .state-published,
		dl.portlet .portletHeader a:hover, #content .event_listing nav a:hover, #content .event_listing nav li.selected a, .panel-above-content .resp-tab-content.resp-tab-content-active a:hover,
		#portal-footer-wrapper .resp-tab-content.resp-tab-content-active a:hover {
			color: <xsl:value-of select="$main_color" /> !important;
			}
	</after>

	<after theme-children="/html/head/style" if="$main_color != '#127a89'">
		#content-core input, .portletLogin input,
		#content fieldset {
			border-color: <xsl:value-of select="$main_color" />;
			}
	</after>
	<after theme-children="/html/head/style" if="$main_color != '#127a89'">
 		#theme-globalnav <xsl:text disable-output-escaping="yes">></xsl:text> li.selected:after, 
 		#theme-globalnav <xsl:text disable-output-escaping="yes">></xsl:text> li .globalSectionsLevel1:hover:after,
 		.top-block .actionMenuContent li:hover,
 		#theme-globalnav li ul li:not(.LSRow):hover <xsl:text disable-output-escaping="yes">></xsl:text> a,
 		#content-core input.context, #content-core input.standalone,
 		#sharing-search-button, #sharing-user-group-search,
 		#search-field, #search-field input, .formControls input, #portal-footer-wrapper .portletLogin .formControls input,
		.panel-above-content .owl-theme .owl-controls.clickable .owl-page.active span,
		.panel-above-content .owl-theme .owl-controls.clickable .owl-page:hover span, 		
		#portal-footer-wrapper .owl-theme .owl-controls.clickable .owl-page.active span,
		#portal-footer-wrapper .owl-theme .owl-controls.clickable .owl-page:hover span, 
		#portal-column-two .owl-theme .owl-controls.clickable .owl-page.active span, #portal-column-one .owl-theme .owl-controls.clickable .owl-page.active span, #portal-column-two .owl-theme .owl-controls.clickable .owl-page:hover span, #portal-column-one .owl-theme .owl-controls.clickable .owl-page:hover span, #theme-globalnav <xsl:text disable-output-escaping="yes">></xsl:text> li:hover .globalSectionsLevel1:after, .megamenu.open .navbar-toggle .icon-bar, .megamenu .navbar-toggle:hover .icon-bar {
			background: <xsl:value-of select="$main_color" />;
			}
	</after>
	<after theme-children="/html/head/style" if="$secondary_color != '#97d5de'">
		#portal-megamenu .subs, .top-panels-wrap, #portal-megamenu .subs .portletItemDetails, .top-panels-wrap .portletItemDetails, .panel-below-content .portletItemDetails, #portal-footer a, #portal-colophon a, .top-panels-wrap .fa-search, .portletShelf .item .itemDate, .panel-below-content .resp-tab-item, #portal-top .resp-tab-item, .panel-below-content .resp-accordion:not(.resp-tab-active), #portal-top .resp-accordion:not(.resp-tab-active),
		#portal-header .activated dt a, #portal-header a:hover,.portletQgCarousel .qg-buttons div:hover,
		.portletStaticText .callout, #portal-megamenu .subs .event.today, .top-panels-wrap .event.today, .panel-below-content .event.today, #portal-languageselector li.currentLanguage a, #portal-megamenu .subs, .top-panels-wrap, .panel-below-content,
		.portletQgCarousel .qg-buttons button:hover {
			color: <xsl:value-of select="$secondary_color" />;
			}
	</after>

	<after theme-children="/html/head/style" if="$secondary_color != '#97d5de'">
		.panel-below-content .resp-arrow,
		#portal-top .resp-arrow {
			border-top-color: <xsl:value-of select="$secondary_color" />;
			}
	</after>

	<after theme-children="/html/head/style" if="$secondary_color != '#97d5de'">
		#portal-megamenu .subs dl.portlet dt a:hover, .top-panels-wrap dl.portlet dt a:hover, .panel-below-content dl.portlet dt a:hover, #portal-megamenu .subs dl.portlet a:hover, .top-panels-wrap dl.portlet a:hover, #portal-megamenu .subs .portletItem .documentDescription, .top-panels-wrap .portletItem .documentDescription, .panel-below-content .portletItem .documentDescription, #portal-megamenu .subs .panel dl.portlet.portletCalendar .portletItem a, .top-panels-wrap .panel dl.portlet.portletCalendar .portletItem a, .panel-below-content .panel dl.portlet.portletCalendar .portletItem a, #portal-megamenu .subs .panel dl.portlet.portletStaticText .portletItem:hover a:hover, .top-panels-wrap .panel dl.portlet.portletStaticText .portletItem:hover a:hover, .panel-below-content .panel dl.portlet.portletStaticText .portletItem:hover a:hover, #contentActionMenus dl.actionMenu.activated dd a:hover, #contentActionMenus dl.actionMenu.activated dd .actionMenuSelected #contentActionMenus dl.actionMenu.activated dd a:hover, #contentActionMenus dl.actionMenu.activated dd .actionMenuSelected, #portal-header #portal-searchbox .fa-search:hover:before,
		#contentActionMenus dl.actionMenu a:hover, #contentActionMenus dl.actionMenu.activated dd a:hover, .panel dl.portlet.portletOWLCarousel .itemTitle, .panel .portletOWLCarousel .itemTitle, #content-views li.selected a, #content-views li a:hover, #content li.formTab a.selected, #content li.formTab a:hover, #content-core li.formTab a.selected, #content-core li.formTab a:hover, .top-panels-wrap dl.portlet ul.navTree li a:hover, .panel-below-content dl.portlet ul.navTree li a:hover, #portal-megamenu .subs .portletStaticText a:hover ,
		.top-panels-wrap .portletStaticText a:hover , .panel-below-content dl.portlet .LSShadow a:link,
		.panel-below-content .portletStaticText a:hover {
			color: <xsl:value-of select="$secondary_color" /> !important;
			}
	</after>
	<after theme-children="/html/head/style" if="$secondary_color != '#97d5de'">
		#content-core input.context:hover, #content-core input.standalone:hover,
		#portal-footer-wrapper .portletLogin .formControls input:hover, .owl-theme .owl-controls .owl-page.active span, .owl-theme .owl-controls.clickable .owl-page:hover span,
		.formControls input:hover  {
			background: <xsl:value-of select="$secondary_color" />;
			}
	</after>
	<after theme-children="/html/head/style" if="$secondary_color != '#97d5de'">
		#exposeMask,#theme-globalnav.open .navbar-toggle .icon-bar {
			background-color: <xsl:value-of select="$secondary_color" /> !important;
			}
	</after>

	<after theme-children="/html/head/style" if="$top_panel_bg != '#646464'">
		#edit-bar, #content-views, #content ul.formTabs, #contentActionMenus dl.actionMenu.activated dd, .edit-wrapping, #content-views li.selected a, #content-views li a:hover, #content li.formTab a.selected, #content li.formTab a:hover, #content-core li.formTab a.selected, #content-core li.formTab a:hover,
		#contentActionMenus, #theme-globalnav .subs {
			background: <xsl:value-of select="$top_panel_bg" />;
			}
	</after>

	<after theme-children="/html/head/style" if="$top_panel_bg != '#646464'">
		#contentActionMenus dl.actionMenu a {
			background-color: <xsl:value-of select="$top_panel_bg" />;
			}
	</after> 

	<after theme-children="/html/head/style" if="$main_color != '#127a89'">
		#portal-footer-wrapper .LSBox input.searchField, #portal-columns .LSBox input.searchField, .panel-above-content .LSBox input.searchField, #search-field input.searchPage {
			background-color: <xsl:value-of select="$main_color" />;
			border-color: <xsl:value-of select="$main_color" />;
			}
	</after>

	<after theme-children="/html/head/style" if="$main_color != '#127a89'">
		#content-core .LSShadow, 
		#portal-columns .portletSearch .LSShadow,
		#portal-footer-wrapper .portletSearch .LSShadow  {
			border-color: <xsl:value-of select="$main_color" />;
			}
	</after>
	<after theme-children="/html/head/style" if="$main_color != '#127a89'">
		#portal-footer-wrapper .LSBox .searchField:hover, #portal-columns .LSBox .searchField:hover, .panel-above-content .LSBox .searchField:hover, #portal-footer-wrapper .LSBox .searchField:focus, #portal-columns .LSBox .searchField:focus, .panel-above-content .LSBox .searchField:focus, #portal-footer-wrapper .LSBox .searchField:hover <xsl:text disable-output-escaping="yes">~</xsl:text> .fa-search, #portal-columns .LSBox .searchField:hover <xsl:text disable-output-escaping="yes">~</xsl:text> .fa-search, .panel-above-content .LSBox .searchField:hover <xsl:text disable-output-escaping="yes">~</xsl:text> .fa-search, #portal-footer-wrapper .LSBox .searchField:focus <xsl:text disable-output-escaping="yes">~</xsl:text> .fa-search, #portal-columns .LSBox .searchField:focus <xsl:text disable-output-escaping="yes">~</xsl:text> .fa-search, .panel-above-content .LSBox .searchField:focus <xsl:text disable-output-escaping="yes">~</xsl:text> .fa-search, #search-field .searchPage:hover, #search-field .searchPage:focus, #search-field .searchPage:hover <xsl:text disable-output-escaping="yes">~</xsl:text> .fa-search, #search-field .searchPage:focus <xsl:text disable-output-escaping="yes">~</xsl:text> .fa-search {
			color: <xsl:value-of select="$main_color" />;
			}
	</after>

	<after theme-children="/html/head/style" if="$main_color != '#127a89'">
		#portal-footer-wrapper input.searchField:hover::-webkit-input-placeholder,
		#portal-footer-wrapper input.searchField:focus::-webkit-input-placeholder,
		#portal-columns input.searchField:hover::-webkit-input-placeholder,
		#portal-columns input.searchField:focus::-webkit-input-placeholder,
		.panel-above-content input.searchField:hover::-webkit-input-placeholder,
		.panel-above-content input.searchField:focus::-webkit-input-placeholder {
			color: <xsl:value-of select="$main_color" />;
			}
	</after>

	<after theme-children="/html/head/style" if="$main_color != '#127a89'">
		#portal-footer-wrapper input.searchField:hover::-moz-placeholder,
		#portal-footer-wrapper input.searchField:focus::-moz-placeholder,
		#portal-columns input.searchField:hover::-moz-placeholder,
		#portal-columns input.searchField:focus::-moz-placeholder,
		.panel-above-content input.searchField:hover::-moz-placeholder,
		.panel-above-content input.searchField:focus::-moz-placeholder {
			color: <xsl:value-of select="$main_color" />;
			}
	</after>

	<after theme-children="/html/head/style" if="$main_color != '#127a89'">
		#portal-footer-wrapper input.searchField:hover:-ms-input-placeholder,
		#portal-footer-wrapper input.searchField:focus:-ms-input-placeholder,
		#portal-columns input.searchField:hover:-ms-input-placeholder,
		#portal-columns input.searchField:focus:-ms-input-placeholder,
		.panel-above-content input.searchField:hover:-ms-input-placeholder,
		.panel-above-content input.searchField:focus:-ms-input-placeholder  {
			color: <xsl:value-of select="$main_color" />;
			}
	</after>

	<after theme-children="/html/head/style" if="$main_color != '#127a89'">	
		.panel-above-content .panel dl.portlet.portletOWLCarousel .itemTitle, 
		#portal-footer-wrapper .panel dl.portlet.portletOWLCarousel .itemTitle,
		.panel-above-content .panel dl.portlet.portletOWLCarousel .itemDate, #portal-footer-wrapper .panel dl.portlet.portletOWLCarousel .itemDate, .panel-above-content .panel .portletOWLCarousel .itemDate, #portal-footer-wrapper .panel .portletOWLCarousel .itemDate {
			color: <xsl:value-of select="$main_color" /> !important;
			}
	</after>

	<after theme-children="/html/head/style" if="$secondary_color != '#127a89'">
		.top-panels-wrap input.searchField, .panel-below-content .LSBox input.searchField,
		#portal-megamenu input.searchField, .top-panels-wrap input.searchField {
			background-color: <xsl:value-of select="$secondary_color" />;
			border-color: <xsl:value-of select="$secondary_color" />;
			}
	</after>

	<after theme-children="/html/head/style" if="$secondary_color != '#127a89'">
		.panel-below-content dl.portlet .livesearchContainer a,
		.panel-below-content dl.portlet a:hover, .panel dl.portlet.portletOWLCarousel .itemDate, 
		.panel .portletOWLCarousel .itemDate {
			color: <xsl:value-of select="$secondary_color" /> !important;
			}
	</after>	

	<after theme-children="/html/head/style" if="$top_panel_bg != '#646464'">
		#portal-megamenu <xsl:text disable-output-escaping="yes">></xsl:text> li <xsl:text disable-output-escaping="yes">></xsl:text> .subs, .top-panels-wrap,
		#portal-megamenu .portletSearch input.searchField:focus, #portal-megamenu .portletSearch input.searchField:hover, .top-panels-wrap .portletSearch input.searchField:focus, .top-panels-wrap .portletSearch input.searchField:hover, .top-panels-wrap .item .mask, .panel-below-content .item .mask {
			background: <xsl:value-of select="$top_panel_bg" /> ;	
			}
	</after>
	
	<after theme-children="/html/head/style" if="$main_color != '#127a89'"> 
		@media only screen and (max-width: 767px) {  
			#globalnav-wrapper.open .globalnav-toggle .icon-bar, 
			#globalnav-wrapper .globalnav-toggle:hover .icon-bar,
			.megamenu.open .navbar-toggle .icon-bar, 
			.megamenu .navbar-toggle:hover .icon-bar,
			#globalnav-wrapper #theme-globalnav li.plus:after,
			#globalnav-wrapper #theme-globalnav li.open <xsl:text disable-output-escaping="yes">></xsl:text> a, 
			#globalnav-wrapper #theme-globalnav <xsl:text disable-output-escaping="yes">></xsl:text> li:hover <xsl:text disable-output-escaping="yes">></xsl:text> a,
			#globalnav-wrapper #theme-globalnav .selected <xsl:text disable-output-escaping="yes">></xsl:text> a {
				background-color: <xsl:value-of select="$main_color" /> ;	
				}
			#portal-megamenu .plus.open <xsl:text disable-output-escaping="yes">></xsl:text> a {
				color: <xsl:value-of select="$main_color" /> ;	
				}
		}
	</after>

</rules>